Microsoft (R) Macro Assembler Version 6.14.8444		    06/02/15 21:24:31
D:\masm32\lab_14_2.asm					     Page 1 - 1


				;编写子程序将EAX的内容转换为十六进制字符串

				.386
				.model flat,stdcall
				.stack 4096
 00000000			.data
 00000000 30 31 32 33 34	    tabel   byte    '0123456789ABCDEF',0
	   35 36 37 38 39
	   41 42 43 44 45
	   46 00
 00000011  00000014 [		    hstring byte    20 dup (?)
	    00
	   ]
 00000025 012AB8CF		    n       dword   012AB8CFh

 00000000			.code
 00000000			toHString   proc
 00000000  55			    push    ebp
 00000001  8B EC		    mov     ebp,esp
 00000003  8B 5D 08		    mov     ebx,[ebp+8]
 00000006  8B 45 0C		    mov     eax,[ebp+12]
 00000009  B9 F0000000		    mov     ecx,0f0000000h
 0000000E			while3:
 0000000E  50			    push    eax
 0000000F  23 C1		    and     eax,ecx
 00000011  75 0E		    jnz     while2
 00000013  C1 E9 04		    shr     ecx,4
 00000016  58			    pop     eax
 00000017  EB F5		    jmp     while3

 00000019			while1:
 00000019  83 F9 00		    cmp     ecx,0
 0000001C  74 21		    je      endwhile1
 0000001E  50			    push    eax
 0000001F  23 C1		    and     eax,ecx
 00000021			while2:
 00000021  83 F8 0F		    cmp     eax,00000000Fh
 00000024  7E 05		    jle     endwhile2
 00000026  C1 E8 04		    shr     eax,4
 00000029  EB F6		    jmp     while2
 0000002B			endwhile2:
 0000002B  53			    push    ebx
 0000002C  8D 1D 00000000 R	    lea     ebx,tabel
 00000032  D7			    xlat    
 00000033  5B			    pop     ebx
 00000034  88 03		    mov     [ebx],al
 00000036  83 C3 01		    add     ebx,1
 00000039  58			    pop     eax
 0000003A  C1 E9 04		    shr     ecx,4
 0000003D  EB DA		    jmp     while1
 0000003F			endwhile1:
 0000003F  5D			    pop     ebp
 00000040  C2 0008		ret     8
 00000043			toHString   endp

 00000043			start:
 00000043  FF 35 00000025 R	    push    n
 00000049  68 00000011 R	    push    offset  hstring
 0000004E  E8 FFFFFFAD		    call    toHString
 00000053  C3			ret
 00000054			end start
Microsoft (R) Macro Assembler Version 6.14.8444		    06/02/15 21:24:31
D:\masm32\lab_14_2.asm					     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 DWord	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 00000029 DWord	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 00000054 DWord	  Public  'CODE'	


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

$$$00002 . . . . . . . . . . . .	P Near	 00000043 _TEXT	Length= 00000011 Private STDCALL
toHString  . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 00000043 Public STDCALL
  while3 . . . . . . . . . . . .	L Near	 0000000E _TEXT	
  while1 . . . . . . . . . . . .	L Near	 00000019 _TEXT	
  while2 . . . . . . . . . . . .	L Near	 00000021 _TEXT	
  endwhile2  . . . . . . . . . .	L Near	 0000002B _TEXT	
  endwhile1  . . . . . . . . . .	L Near	 0000003F _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
hstring  . . . . . . . . . . . .	Byte	 00000011 _DATA	
n  . . . . . . . . . . . . . . .	DWord	 00000025 _DATA	
start  . . . . . . . . . . . . .	L Near	 00000043 _TEXT	Public STDCALL
tabel  . . . . . . . . . . . . .	Byte	 00000000 _DATA	

	   0 Warnings
	   0 Errors
